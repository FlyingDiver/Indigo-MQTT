<?xml version="1.0"?>
<Devices>
	<SupportURL>http://forums.indigodomo.com/viewforum.php?f=316</SupportURL>
    <Device type="custom" id="mqttBroker">
        <Name>MQTT Broker</Name>
        <ConfigUI>  
            <Field id="address" type="textfield"  defaultValue="localhost" tooltip="Enter IP address or Hostname of MQTT Broker.">
                <Label>IP Address or Hostname:</Label>
            </Field>
            <Field id="port" type="textfield" defaultValue="1883" tooltip="Port number for MQTT Broker.">
                <Label>Port:</Label>
            </Field>
            <Field id="protocol" type="menu" defaultValue="4">
        		<Label>MQTT Protocol:</Label>
        		<List>
        			<Option value="4">MQTTv311</Option>
        			<Option value="3">MQTTv31</Option>
        		</List>
        	</Field>
            <Field id="transport" type="menu" defaultValue="tcp">
        		<Label>Transport Protocol:</Label>
        		<List>
        			<Option value="tcp">TCP</Option>
        			<Option value="websockets">WebSockets</Option>
        		</List>
        	</Field>
            <Field id="username" type="textfield">
                <Label>Username:</Label>
            </Field>
            <Field id="password" type="textfield" secure="true">
                <Label>Password:</Label>
            </Field>
            <Field id="useTLS" type="checkbox">
                <Label>Use SSL/TLS:</Label>
            </Field>

        </ConfigUI> 
        <States>
            <State id="status">
                <ValueType>String</ValueType>
                <TriggerLabel>Status</TriggerLabel>
                <ControlPageLabel>Status</ControlPageLabel>
            </State>
            <State id="last_topic">
                <ValueType>String</ValueType>
                <TriggerLabel>Topic</TriggerLabel>
                <ControlPageLabel>Topic</ControlPageLabel>
            </State>
            <State id="last_payload">
                <ValueType>String</ValueType>
                <TriggerLabel>Payload</TriggerLabel>
                <ControlPageLabel>Topic</ControlPageLabel>
            </State>
        </States>
        <UiDisplayStateId>status</UiDisplayStateId>
    </Device>       
 </Devices>
